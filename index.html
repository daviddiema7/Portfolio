<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta name="description" content="Portfolio de David Diema, √©tudiant en BUT Informatique. D√©couvrez mes projets, comp√©tences et exp√©riences.">
  <title>David Diema - Portfolio √âtudiant BUT Informatique</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <script src="https://cdn.jsdelivr.net/npm/tsparticles@2/tsparticles.bundle.min.js"></script>
  <link rel="stylesheet" href="css/style.css" />
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;800&display=swap" rel="stylesheet">
  <style>
    html { scroll-behavior: smooth; }
    body { font-family: 'Inter', sans-serif; }
    section { scroll-margin-top: 80px; }
    #tsparticles { pointer-events: none; }
    /* Styles modale */
    #projectModal { transition: opacity 0.3s ease-out; }
    #projectModal.opacity-0 { opacity: 0; }
    #modalContent { transition: transform 0.3s ease-out, opacity 0.3s ease-out; }
    #projectModal.opacity-0 #modalContent { opacity: 0; transform: scale(0.95); }
    .project-card { cursor: pointer; }
    body.modal-open { overflow: hidden; }
  </style>
</head>

<body class="bg-gray-900 text-white relative">

  <!-- Fond anim√© -->
  <div id="tsparticles" class="absolute inset-0 -z-10"></div>

  <!-- Navigation -->
  <header class="fixed top-0 w-full z-50 bg-gray-900/70 backdrop-blur-md shadow-lg border-b border-gray-700">
      <nav class="max-w-6xl mx-auto px-6 py-3 flex justify-center space-x-4 text-sm text-blue-300 font-medium">
        <a href="#skills" class="hover:text-white px-3 py-1 rounded-md hover:bg-gray-700/50 transition-colors duration-200">Skills</a>
        <a href="#academique" class="hover:text-white px-3 py-1 rounded-md hover:bg-gray-700/50 transition-colors duration-200">Acad√©mique</a>
        <a href="#projets" class="hover:text-white px-3 py-1 rounded-md hover:bg-gray-700/50 transition-colors duration-200">Projets</a>
        <a href="#experience" class="hover:text-white px-3 py-1 rounded-md hover:bg-gray-700/50 transition-colors duration-200">Exp√©rience</a>
        <a href="#veille" class="hover:text-white px-3 py-1 rounded-md hover:bg-gray-700/50 transition-colors duration-200">Veille</a>
        <a href="#contact" class="hover:text-white px-3 py-1 rounded-md hover:bg-gray-700/50 transition-colors duration-200">Contact</a>
      </nav>
  </header>

  <!-- Accueil -->
  <section id="accueil" class="pt-36 pb-16 px-4 text-center min-h-screen flex flex-col justify-center">
    <div>
      <h1 class="text-4xl md:text-6xl font-bold mb-2">David Diema</h1>
      <p class="mt-1 text-xl text-gray-300">Bienvenue sur mon Portfolio</p>
      <p class="mt-4 text-lg text-blue-300">√âtudiant en BUT Informatique - 2√®me ann√©e</p>
       <div class="mt-8">
         <a href="#a-propos" class="bg-blue-500 hover:bg-blue-600 text-white font-bold py-2 px-4 rounded transition duration-300">
           D√©couvrir mon profil üëá
         </a>
       </div>
    </div>
  </section>

  <!-- √Ä propos -->
  <section id="a-propos" class="py-16 px-4 max-w-4xl mx-auto">
    <h2 class="text-3xl font-semibold mb-6 text-center">√Ä propos de moi</h2>
    <p class="text-gray-300 text-center leading-relaxed">
      Je suis un √©tudiant passionn√© par le d√©veloppement web, les nouvelles technologies et l‚Äôinformatique en g√©n√©ral. Curieux, rigoureux et cr√©atif, je suis toujours √† la recherche de nouveaux d√©fis pour am√©liorer mes comp√©tences. J'aime comprendre comment les choses fonctionnent et construire des solutions efficaces et √©l√©gantes.
    </p>
  </section>

  <!-- Comp√©tences (Skills) -->
  <section id="skills" class="py-16 bg-gray-800 px-4">
    <div class="max-w-4xl mx-auto">
      <h2 class="text-3xl font-semibold mb-8 text-center">Comp√©tences</h2>
      <div class="grid md:grid-cols-2 gap-x-12 gap-y-8">
        <div>
          <h3 class="text-xl font-semibold mb-4 text-blue-300">üíª Hard Skills</h3>
          <ul class="space-y-4 text-gray-300">
             <li class="group relative pb-2 cursor-default"><span>HTML, CSS (Tailwind CSS)</span><div class="absolute top-full mt-0.5 left-0 w-full flex items-center gap-2 opacity-0 group-hover:opacity-100 transition-opacity duration-300 ease-in-out pointer-events-none"><div class="flex-grow h-1 bg-gray-600 rounded overflow-hidden"><div class="h-full bg-blue-400 rounded" style="width: 90%;"></div></div><span class="text-xs font-medium text-blue-300 w-8 text-right">90%</span></div></li>
             <li class="group relative pb-2 cursor-default"><span>JavaScript (ES6+)</span><div class="absolute top-full mt-0.5 left-0 w-full flex items-center gap-2 opacity-0 group-hover:opacity-100 transition-opacity duration-300 ease-in-out pointer-events-none"><div class="flex-grow h-1 bg-gray-600 rounded overflow-hidden"><div class="h-full bg-blue-400 rounded" style="width: 75%;"></div></div><span class="text-xs font-medium text-blue-300 w-8 text-right">75%</span></div></li>
             <li class="group relative pb-2 cursor-default"><span>Python</span><div class="absolute top-full mt-0.5 left-0 w-full flex items-center gap-2 opacity-0 group-hover:opacity-100 transition-opacity duration-300 ease-in-out pointer-events-none"><div class="flex-grow h-1 bg-gray-600 rounded overflow-hidden"><div class="h-full bg-blue-400 rounded" style="width: 70%;"></div></div><span class="text-xs font-medium text-blue-300 w-8 text-right">70%</span></div></li>
             <li class="group relative pb-2 cursor-default"><span>Java</span><div class="absolute top-full mt-0.5 left-0 w-full flex items-center gap-2 opacity-0 group-hover:opacity-100 transition-opacity duration-300 ease-in-out pointer-events-none"><div class="flex-grow h-1 bg-gray-600 rounded overflow-hidden"><div class="h-full bg-blue-400 rounded" style="width: 60%;"></div></div><span class="text-xs font-medium text-blue-300 w-8 text-right">60%</span></div></li>
             <li class="group relative pb-2 cursor-default"><span>SQL (PostgreSQL/MySQL)</span><div class="absolute top-full mt-0.5 left-0 w-full flex items-center gap-2 opacity-0 group-hover:opacity-100 transition-opacity duration-300 ease-in-out pointer-events-none"><div class="flex-grow h-1 bg-gray-600 rounded overflow-hidden"><div class="h-full bg-blue-400 rounded" style="width: 80%;"></div></div><span class="text-xs font-medium text-blue-300 w-8 text-right">80%</span></div></li>
             <li class="group relative pb-2 cursor-default"><span>Git, GitHub</span><div class="absolute top-full mt-0.5 left-0 w-full flex items-center gap-2 opacity-0 group-hover:opacity-100 transition-opacity duration-300 ease-in-out pointer-events-none"><div class="flex-grow h-1 bg-gray-600 rounded overflow-hidden"><div class="h-full bg-blue-400 rounded" style="width: 85%;"></div></div><span class="text-xs font-medium text-blue-300 w-8 text-right">85%</span></div></li>
          </ul>
        </div>
        <div>
          <h3 class="text-xl font-semibold mb-4 text-blue-300">ü§ù Soft Skills</h3>
          <ul class="list-disc list-inside text-gray-300 space-y-2">
            <li>Travail en √©quipe</li><li>Autonomie et Proactivit√©</li><li>R√©solution de probl√®mes</li><li>Communication</li><li>Adaptabilit√©</li><li>Curiosit√©</li><li>Organisation</li>
          </ul>
        </div>
      </div>
    </div>
  </section>

  <!-- Comp√©tences acad√©miques -->
  <section id="academique" class="py-16 px-4 max-w-4xl mx-auto">
    <h2 class="text-3xl font-semibold mb-8 text-center">Comp√©tences Acad√©miques (BUT Info)</h2>
     <ul class="list-disc list-inside text-gray-300 space-y-2 md:columns-2 gap-x-8">
       <li>Algorithmique et structures de donn√©es</li><li>D√©veloppement Web (Frontend & Backend)</li><li>Administration syst√®mes (Linux)</li><li>Administration r√©seaux (TCP/IP)</li><li>Bases de donn√©es (Conception, SQL)</li><li>Math√©matiques appliqu√©es</li><li>Gestion de projet (Agile)</li><li>S√©curit√© informatique (Principes)</li><li>Architecture logicielle (UML)</li>
    </ul>
  </section>

   <!-- Exp√©rience -->
   <section id="experience" class="py-16 bg-gray-800 px-4">
     <div class="max-w-4xl mx-auto">
       <h2 class="text-3xl font-semibold mb-8 text-center">Exp√©riences Professionnelles / Stages</h2>
       <div class="space-y-6 text-gray-300 border-l-2 border-blue-400 pl-6">
         <div class="relative">
           <div class="absolute -left-8 top-1 w-4 h-4 bg-blue-400 rounded-full"></div>
           <h3 class="text-xl font-semibold text-white">Stage - D√©veloppeur Web [√Ä Remplir]</h3>
           <p class="text-sm text-blue-300 font-medium">Nom Entreprise | Ville - Dates</p>
           <ul class="list-disc list-inside mt-2 text-gray-400 text-sm space-y-1">
             <li>Mission 1 : D√©crivez bri√®vement une mission cl√©.</li>
             <li>Mission 2 : Une autre mission ou responsabilit√©.</li>
             <li>Technologies utilis√©es : Listez les outils/langages pertinents.</li>
           </ul>
         </div>
         <div class="relative">
            <div class="absolute -left-8 top-1 w-4 h-4 bg-blue-400 rounded-full"></div>
            <h3 class="text-xl font-semibold text-white">SAE - Gestion des Stages IUT Villetaneuse</h3>
            <p class="text-sm text-blue-300 font-medium">IUT de Villetaneuse - 2024</p>
            <ul class="list-disc list-inside mt-2 text-gray-400 text-sm space-y-1">
              <li>D√©finition des fonctionnalit√©s, organisation des informations (coordonn√©es, missions, dates...).</li>
              <li>Mise en place de rappels automatiques pour actions cl√©s (compte rendu, prise de contact...).</li>
              <li>Cr√©ation de vues adapt√©es aux profils (√©tudiants, tuteurs...) avec actions sp√©cifiques.</li>
              <li>Acquis: Conception UI, Analyse, Travail en √©quipe, Organisation des donn√©es.</li>
            </ul>
          </div>
          <div class="relative">
            <div class="absolute -left-8 top-1 w-4 h-4 bg-blue-400 rounded-full"></div>
            <h3 class="text-xl font-semibold text-white">SAE - Les 24h de l'Info</h3>
            <p class="text-sm text-blue-300 font-medium">Universit√© Sorbonne Paris Nord - 2024</p>
            <ul class="list-disc list-inside mt-2 text-gray-400 text-sm space-y-1">
              <li>Gestion des inscriptions et accueil des participants.</li>
              <li>Collaboration pour l'organisation logistique et technique.</li>
              <li>Gestion des plannings.</li>
              <li>Communication et promotion sur r√©seaux sociaux et plateformes num√©riques.</li>
              <li>Acquis: Gestion de projet, Esprit d'√©quipe, Gestion du temps, Communication, Initiative.</li>
            </ul>
          </div>
          <div class="relative">
            <div class="absolute -left-8 top-1 w-4 h-4 bg-blue-400 rounded-full"></div>
            <h3 class="text-xl font-semibold text-white">Stage - Restaurant Oc√©an Gournay</h3>
            <p class="text-sm text-blue-300 font-medium">Gournay-sur-Marne - 2019</p>
            <ul class="list-disc list-inside mt-2 text-gray-400 text-sm space-y-1">
              <li>Accueil des clients et prise des commandes.</li>
              <li>Service en salle et gestion des paiements.</li>
              <li>Gestion des r√©servations.</li>
              <li>Maintien d'un environnement propre et organis√©.</li>
               <li>Acquis: Organisation, Autonomie, Aisance relationnelle.</li>
            </ul>
          </div>
       </div>
     </div>
   </section>

  <!-- Projets -->
  <section id="projets" class="py-16 px-4">
    <div class="max-w-6xl mx-auto">
      <h2 class="text-3xl font-semibold mb-8 text-center">Mes Projets</h2>
      <div class="grid md:grid-cols-2 lg:grid-cols-3 gap-8 text-gray-300">

        <!-- Projet 1 -->
        <div
          class="project-card bg-gray-700 rounded-xl overflow-hidden shadow-lg hover:shadow-blue-500/30 transition duration-300"
          tabindex="0" role="button"
          data-title="üéØ 24h Chrono Info ‚Äì Challenge inter-IUT"
          data-img-src="images/24h-info.png"
          data-description="24hChronoInfo ‚Äì Un d√©fi informatique en continu

Ce projet est n√© d‚Äôune volont√© commune de rassembler les √©tudiants autour d‚Äôun challenge √† la fois technique, collaboratif et stimulant. Pendant 24 heures non-stop, plusieurs √©quipes d‚ÄôIUT se sont affront√©es autour de trois √©preuves : d√©veloppement web, algorithmie et cryptographie.

Avec mon √©quipe, nous avons con√ßu l‚Äô√©v√©nement de A √† Z : organisation des √©preuves, cr√©ation du contenu, communication‚Ä¶ et bien s√ªr, la mise en ligne du site officiel. Ce dernier servait de point central pour suivre l‚Äô√©v√©nement en direct, d√©couvrir les projets, consulter les r√©sultats, et donner un aper√ßu des coulisses √† travers interviews, photos et vid√©os."
          data-link-url="https://delrone98.wixsite.com/24hchronoinfo"
          data-link-text="üîó Voir le site de l'√©v√©nement"
          >
          <img src="images/24h-info.png" alt="24h Chrono Info" class="w-full h-72 object-cover pointer-events-none">
          <div class="p-3 text-gray-200 pointer-events-none">
            <h3 class="text-xl font-semibold mb-2">üéØ 24h Chrono Info ‚Äì Challenge inter-IUT</h3>
            <p class="text-sm mt-3 text-blue-400">Cliquez pour voir les d√©tails</p>
          </div>
        </div>

        <!-- Projet 2 -->
        <div
          class="project-card bg-gray-700 rounded-xl overflow-hidden shadow-lg hover:shadow-blue-500/30 transition duration-300 flex flex-col"
          tabindex="0" role="button"
          data-title="Application Gestion Stages (SAE)"
          data-img-src="images/placeholder-projet.png"
          data-description="D√©veloppement d'une application web pour la gestion des stages au sein de l'IUT de Villetaneuse. L'application permet de suivre les informations des stages (coordonn√©es, missions, dates, suivi des actions), de g√©n√©rer des rappels automatiques pour les √©tapes cl√©s (compte rendu d'installation, prise de contact, planification de soutenance) et d'offrir des vues adapt√©es aux diff√©rents profils utilisateurs (√©tudiants, tuteurs, responsables administratifs) avec des actions et √©ch√©ances sp√©cifiques √† chacun. Technologies potentielles : PHP, SQL, HTML, CSS, JavaScript."
          data-code-url="#"
          >
          <img src="images/placeholder-projet.png" alt="Aper√ßu App Gestion Stages" class="w-full h-40 object-cover mb-4 pointer-events-none">
          <div class="p-5 flex flex-col flex-grow pointer-events-none">
            <h3 class="font-semibold text-lg text-white mb-2">Application Gestion Stages (SAE)</h3>
            <p class="text-sm mt-auto text-blue-400">Cliquez pour voir les d√©tails</p>
          </div>
        </div>

         <!-- Projet 3 -->
        <div
          class="project-card bg-gray-700 rounded-xl overflow-hidden shadow-lg hover:shadow-blue-500/30 transition duration-300 flex flex-col"
          tabindex="0" role="button"
          data-title="Mon Portfolio"
          data-img-src="images/placeholder-projet.png"
          data-description="Cr√©ation de ce portfolio personnel pour pr√©senter mon parcours, mes comp√©tences et mes projets. L'objectif √©tait de r√©aliser un site web moderne, responsive et interactif en utilisant HTML, Tailwind CSS pour le style, et JavaScript pour les fonctionnalit√©s dynamiques comme les particules anim√©es en fond et la modale pour l'affichage d√©taill√© des projets."
          data-code-url="#"
          >
          <img src="images/placeholder-projet.png" alt="Aper√ßu Portfolio" class="w-full h-40 object-cover mb-4 pointer-events-none">
          <div class="p-5 flex flex-col flex-grow pointer-events-none">
            <h3 class="font-semibold text-lg text-white mb-2">Portfolio Personnel</h3>
            <p class="text-sm mt-auto text-blue-400">Cliquez pour voir les d√©tails</p>
          </div>
        </div>

      </div>
    </div>
  </section>

  <!-- Veille -->
  <section id="veille" class="py-16 bg-gray-800 px-4">
     <div class="max-w-4xl mx-auto">
      <h2 class="text-3xl font-semibold mb-6 text-center">Veille Technologique</h2>
      <p class="text-gray-300 leading-relaxed text-center mb-4">
        Pour rester √† jour, je consulte r√©guli√®rement des plateformes comme Medium, Dev.to, Hacker News, ainsi que les blogs techniques d'entreprises innovantes et les tendances sur GitHub. Je suis abonn√© √† plusieurs newsletters sp√©cialis√©es et participe activement √† des communaut√©s sur Discord et Stack Overflow. L'exp√©rimentation personnelle de nouvelles technologies fait aussi partie int√©grante de ma veille.
      </p>
      <p class="text-gray-300 leading-relaxed text-center">
        Mes centres d'int√©r√™t actuels incluent : [Mentionne 2-3 sujets pr√©cis, ex: les frameworks JavaScript modernes (React, Vue, Svelte), les bases de donn√©es NoSQL, les bonnes pratiques DevOps].
      </p>
    </div>
  </section>

  <!-- Contact -->
  <section id="contact" class="py-16 px-4 max-w-4xl mx-auto text-center">
    <h2 class="text-3xl font-semibold mb-6">Contactez-moi</h2>
    <p class="text-gray-300 mb-6">
      Une opportunit√© de stage, d'alternance ou simplement envie d'√©changer ? N'h√©sitez pas √† me contacter :
    </p>
    <div class="space-y-4">
      <p>üìß Email : <a href="mailto:diemadavid1@gmail.com" class="text-blue-400 hover:underline">diemadavid1@gmail.com</a></p>
      <p>üîó LinkedIn : <a href="https://www.linkedin.com/in/tonprofil-linkedin" target="_blank" rel="noopener noreferrer" class="text-blue-400 hover:underline">linkedin.com/in/tonprofil-linkedin</a></p>
      <p>üíª GitHub : <a href="https://github.com/tonpseudo-github" target="_blank" rel="noopener noreferrer" class="text-blue-400 hover:underline">github.com/tonpseudo-github</a></p>
    </div>

    <!-- === Bouton T√©l√©charger CV (V√âRIFIE QUE CETTE PARTIE EST CORRECTE) === -->
    <div class="mt-10 text-center">
      <a href="cv/CV_David_Diema.pdf"
         download="CV_David_Diema_2024.pdf"
         target="_blank"
         rel="noopener noreferrer"
         class="inline-block bg-blue-600 hover:bg-blue-700 text-white font-bold py-3 px-6 rounded-lg transition duration-300 shadow-md hover:shadow-lg"> <!-- Assure-toi que ce '>' est l√† -->
         T√©l√©charger mon CV üì•
      </a>
    </div>
    <!-- === Fin Bouton T√©l√©charger CV === -->

  </section>

  <footer class="py-6 text-center text-gray-500 text-sm border-t border-gray-700">
    ¬© 2024 David Diema ‚Äì Tous droits r√©serv√©s
  </footer>

  <!-- Structure Modale -->
  <div id="projectModal" class="fixed inset-0 bg-black bg-opacity-70 z-[60] hidden flex items-center justify-center p-4 opacity-0" aria-labelledby="modalTitle" role="dialog" aria-modal="true">
    <div id="modalContent" class="bg-gray-800 rounded-lg shadow-xl overflow-hidden max-w-2xl w-full transform max-h-[90vh] flex flex-col">
      <div class="p-4 sm:p-6 border-b border-gray-700 flex justify-between items-start">
        <h3 id="modalTitle" class="text-xl sm:text-2xl font-semibold text-white">Titre du Projet</h3>
        <button id="closeModalButton" class="text-gray-400 hover:text-white text-3xl font-light leading-none" aria-label="Fermer">√ó</button>
      </div>
      <div class="p-4 sm:p-6 overflow-y-auto">
        <p id="modalDescription" class="text-gray-300 mb-6 whitespace-pre-wrap leading-relaxed text-justify">
          Description d√©taill√©e du projet appara√Ætra ici.
        </p>
        <div id="modalLinks" class="space-x-0 space-y-3 sm:space-y-0 sm:space-x-4 flex flex-col sm:flex-row items-start pt-4 border-t border-gray-700/50" style="display: none;">
          <!-- Les liens seront ajout√©s dynamiquement ici -->
        </div>
      </div>
    </div>
  </div>

  <!-- Script pour les particules -->
  <script src="js/particles-config.js"></script>

  <!-- Script pour la Modale -->
  <script>
    document.addEventListener('DOMContentLoaded', () => {
      const projectCards = document.querySelectorAll('.project-card');
      const modal = document.getElementById('projectModal');
      const modalContent = document.getElementById('modalContent');
      const modalTitle = document.getElementById('modalTitle');
      const modalDescription = document.getElementById('modalDescription');
      const modalLinks = document.getElementById('modalLinks');
      const closeModalButton = document.getElementById('closeModalButton');
      const body = document.body;
      let previouslyFocusedElement = null;

      const openModal = (card) => {
        previouslyFocusedElement = document.activeElement;
        const title = card.dataset.title || 'Titre non d√©fini';
        const descriptionHTML = card.dataset.description || 'Description non disponible.';
        const tempElement = document.createElement('div');
        tempElement.innerHTML = descriptionHTML;
        const description = tempElement.textContent || tempElement.innerText || '';
        const linkUrl = card.dataset.linkUrl;
        const linkText = card.dataset.linkText;
        const codeUrl = card.dataset.codeUrl;
        const demoUrl = card.dataset.demoUrl;

        modalTitle.textContent = title;
        modalDescription.textContent = description;
        modalLinks.innerHTML = '';

        if (linkUrl && linkText) { /* ... ajout lien ... */
            const linkElement = document.createElement('a');
            linkElement.href = linkUrl; linkElement.target = '_blank'; linkElement.rel = 'noopener noreferrer';
            linkElement.className = 'inline-block bg-blue-600 hover:bg-blue-700 text-white text-sm font-bold py-2 px-4 rounded transition duration-300 whitespace-nowrap';
            linkElement.innerHTML = linkText; modalLinks.appendChild(linkElement);
        }
        if (codeUrl && codeUrl !== '#') { /* ... ajout lien code ... */
            const codeLink = document.createElement('a');
            codeLink.href = codeUrl; codeLink.target = '_blank'; codeLink.rel = 'noopener noreferrer';
            codeLink.className = 'inline-block bg-gray-600 hover:bg-gray-500 text-white text-sm font-bold py-2 px-4 rounded transition duration-300 whitespace-nowrap';
            codeLink.textContent = 'Code Source'; modalLinks.appendChild(codeLink);
         }
        if (demoUrl && demoUrl !== '#') { /* ... ajout lien d√©mo ... */
            const demoLink = document.createElement('a');
            demoLink.href = demoUrl; demoLink.target = '_blank'; demoLink.rel = 'noopener noreferrer';
            demoLink.className = 'inline-block bg-green-600 hover:bg-green-700 text-white text-sm font-bold py-2 px-4 rounded transition duration-300 whitespace-nowrap';
            demoLink.textContent = 'D√©mo Live'; modalLinks.appendChild(demoLink);
        }

        const hasLinks = modalLinks.hasChildNodes();
        modalLinks.style.display = hasLinks ? 'flex' : 'none';
        modalLinks.classList.toggle('pt-4', hasLinks);
        modalLinks.classList.toggle('border-t', hasLinks);

        modal.classList.remove('hidden');
        body.classList.add('modal-open');
        requestAnimationFrame(() => { requestAnimationFrame(() => { modal.classList.remove('opacity-0'); }); });
        closeModalButton.focus();
      };

      const closeModal = () => {
        modal.classList.add('opacity-0');
        const afterTransition = (event) => {
             if (event.target === modal && event.propertyName === 'opacity') {
                 modal.classList.add('hidden'); body.classList.remove('modal-open');
                 modal.removeEventListener('transitionend', afterTransition);
                 if (previouslyFocusedElement) { previouslyFocusedElement.focus(); previouslyFocusedElement = null; }
             }
        };
        modal.addEventListener('transitionend', afterTransition, { once: true });
        setTimeout(() => {
          if (!modal.classList.contains('hidden') && modal.classList.contains('opacity-0')) {
              modal.classList.add('hidden'); body.classList.remove('modal-open');
              if (previouslyFocusedElement) { previouslyFocusedElement.focus(); previouslyFocusedElement = null; }
              modal.removeEventListener('transitionend', afterTransition);
          }
        }, 350);
      };

      projectCards.forEach(card => {
        card.addEventListener('click', () => { openModal(card); });
        card.addEventListener('keydown', (e) => { if (e.key === 'Enter' || e.key === ' ') { e.preventDefault(); openModal(card); } });
      });
      closeModalButton.addEventListener('click', closeModal);
      modal.addEventListener('click', (event) => { if (event.target === modal) { closeModal(); } });
      document.addEventListener('keydown', (event) => { if (event.key === 'Escape' && !modal.classList.contains('hidden')) { closeModal(); } });
    });
  </script>

</body>
</html>